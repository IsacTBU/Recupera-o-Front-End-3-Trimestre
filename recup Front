<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo da Mem√≥ria - Devs</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container mt-5">
        <h1 class="text-center mb-4">Jogo da Mem√≥ria Dev</h1>
        
        <p class="text-center fs-4">Tentativas: <span id="tentativas-placar">0</span></p>

        <p class="text-center fs-5">Tentativas Restantes: <span id="tentativas-restantes">--</span></p>

        <div id="tabuleiro" class="d-flex flex-wrap justify-content-center">
            </div>

        <div id="mensagem-vitoria" class="alert alert-success text-center mt-4 d-none">
            </div>

        <div class="text-center mt-3 d-flex justify-content-center gap-2">
            <button id="reiniciar" class="btn btn-primary btn-lg">Reiniciar Jogo</button>
            
            <button id="toggle-dark-mode" class="btn btn-secondary btn-lg">Ativar Modo Escuro</button>

            <button id="pedir-dica" class="btn btn-info btn-lg">Pedir Dica</button>
        </div>

    </div>

    <script src="script.js"></script>
</body>
</html>


const cartasBase = [
    { nome: 'js', img: 'JS' },
    { nome: 'css', img: 'CSS' },
    { nome: 'html', img: 'HTML' },
    { nome: 'react', img: '‚öõÔ∏è' },
    { nome: 'node', img: 'üßÖ' },
    { nome: 'git', img: 'üå≥' },
];


let cartas = [...cartasBase, ...cartasBase];


let cartasViradas = [];
let nomesVirados = []; 
let tentativas = 0;
let bloquearTabuleiro = false;
let paresEncontrados = 0;


const limiteTentativas = 20; 
let tentativasRestantes = limiteTentativas;


const tabuleiro = document.getElementById('tabuleiro');
const placarTentativas = document.getElementById('tentativas-placar');
const mensagemVitoria = document.getElementById('mensagem-vitoria');
const botaoReiniciar = document.getElementById('reiniciar');


const placarRestantes = document.getElementById('tentativas-restantes'); 
const botaoDarkMode = document.getElementById('toggle-dark-mode'); 
const botaoDica = document.getElementById('pedir-dica'); 




function embaralharCartas() {
    
    cartas.sort(() => Math.random() - 0.5);
}

function criarTabuleiro() {
    
    tabuleiro.innerHTML = '';
    
    embaralharCartas();

    cartas.forEach(item => {
        
        const cartaDiv = document.createElement('div');
        cartaDiv.classList.add('carta');
        
        cartaDiv.setAttribute('data-nome', item.nome);
        
        
        const frenteDiv = document.createElement('div');
        frenteDiv.classList.add('frente');
        frenteDiv.textContent = item.img;


        const versoDiv = document.createElement('div');
        versoDiv.classList.add('verso');
        versoDiv.textContent = '‚ùì';
        
    
        cartaDiv.appendChild(frenteDiv);
        cartaDiv.appendChild(versoDiv);

        
        cartaDiv.addEventListener('click', virarCarta);

        
        tabuleiro.appendChild(cartaDiv);
    });
}

function virarCarta(evento) {
    const cartaClicada = evento.currentTarget;


    if (bloquearTabuleiro) {
        return;
    }


    if (cartaClicada.classList.contains('virada') || cartaClicada.classList.contains('acertou')) {
        return;
    }

    if (cartasViradas.length >= 2) {
        return;
    }

    
    cartaClicada.classList.add('virada');


    const nomeCarta = cartaClicada.getAttribute('data-nome');
    cartasViradas.push(cartaClicada);
    nomesVirados.push(nomeCarta);


    if (cartasViradas.length === 2) {
        checarPar();
    }
}


function checarPar() {

    tentativas++;
    placarTentativas.textContent = tentativas;

    
    if (nomesVirados[0] === nomesVirados[1]) {
        
        desabilitarCartas();
        
        
        paresEncontrados++;
        if (paresEncontrados === cartasBase.length) { 
            mostrarMensagemVitoria();
            
            placarRestantes.classList.remove('text-danger', 'fw-bold'); 
        }
    } else {
       
     
        tentativasRestantes--;
        placarRestantes.textContent = tentativasRestantes;

        
        
        if (tentativasRestantes <= 5 && tentativasRestantes > 0) {
            placarRestantes.classList.add('text-danger', 'fw-bold');
        }

       
        
        if (tentativasRestantes <= 0) {
            placarRestantes.textContent = 0;
            placarRestantes.classList.add('text-danger', 'fw-bold');
            
            
            
            bloquearTabuleiro = true;
            virarDeVolta(); 
            

            
            
            setTimeout(() => {
                alert('GAME OVER! Voc√™ excedeu o limite de tentativas.');
              
                
                bloquearTabuleiro = true; 
               
                
                document.querySelectorAll('.carta').forEach(c => c.removeEventListener('click', virarCarta));
            }, 1200);
            

        } else {
           
            virarDeVolta();
        }
        
    }
}


function desabilitarCartas() {
    
    cartasViradas.forEach(carta => {
        carta.removeEventListener('click', virarCarta);
        carta.classList.add('acertou');
    });

    
    cartasViradas = [];
    nomesVirados = [];
}

function virarDeVolta() {
 
    bloquearTabuleiro = true;

    
    setTimeout(() => {
      
        cartasViradas.forEach(carta => {
            carta.classList.remove('virada');
        });

        
        if (tentativasRestantes > 0) {
             bloquearTabuleiro = false;
        }

        
        cartasViradas = [];
        nomesVirados = [];
    }, 1000); 
}

function mostrarMensagemVitoria() {
    mensagemVitoria.classList.remove('d-none');
    mensagemVitoria.innerHTML = `Parab√©ns! Voc√™ encontrou todos os ${paresEncontrados} pares em <strong>${tentativas} tentativas</strong>!`;
}



function reiniciarJogo() {
    
    cartasViradas = [];
    nomesVirados = [];
    tentativas = 0;
    bloquearTabuleiro = false;
    paresEncontrados = 0;

   
    tentativasRestantes = limiteTentativas;
    placarRestantes.textContent = tentativasRestantes;
    placarRestantes.classList.remove('text-danger', 'fw-bold');


  
    placarTentativas.textContent = 0;
    mensagemVitoria.classList.add('d-none');

  
    criarTabuleiro();
}


botaoReiniciar.addEventListener('click', reiniciarJogo);



function alternarModoEscuro() {

    document.body.classList.toggle('dark-mode');

    
    if (document.body.classList.contains('dark-mode')) {
        botaoDarkMode.textContent = 'Desativar Modo Escuro';
    } else {
        botaoDarkMode.textContent = 'Ativar Modo Escuro';
    }
}


botaoDarkMode.addEventListener('click', alternarModoEscuro);




function mostrarDica() {

    if (bloquearTabuleiro || cartasViradas.length > 0) {
        return;
    }

    
    const cartasNaoEncontradas = Array.from(document.querySelectorAll('.carta:not(.acertou)'));

    
    if (cartasNaoEncontradas.length < 2) {
        return;
    }


    const nomeDica = cartasNaoEncontradas[0].getAttribute('data-nome');

  const parParaDica = cartasNaoEncontradas.filter(carta => carta.getAttribute('data-nome') === nomeDica);

   
    if (parParaDica.length === 2) {
        bloquearTabuleiro = true;
        
      
        parParaDica.forEach(carta => carta.classList.add('virada'));

       
        setTimeout(() => {
            parParaDica.forEach(carta => carta.classList.remove('virada'));
            bloquearTabuleiro = false; 
        }, 3000); 
    }
}


botaoDica.addEventListener('click', mostrarDica);



reiniciarJogo();


#tabuleiro {
    max-width: 800px; 
    margin: 0 auto;
}


.carta {
    width: 150px; 
    height: 150px;
    margin: 10px;
    position: relative;
    cursor: pointer;
    transform-style: preserve-3d; 
    transition: transform 0.6s; 
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    border-radius: 8px;
}


.virada {
    transform: rotateY(180deg);
}


.frente, .verso {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden; 
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 3rem;
    font-weight: bold;
    border-radius: 8px;
}


.verso {
    background-color: #2c3e50; 
    color: white;
    border: 3px solid #3498db;
}


.frente {
    background-color: #ecf0f1; 
    color: #2c3e50;
    transform: rotateY(180deg);


.acertou {
    opacity: 0.8;
    cursor: default;
    border: 3px solid #27ae60; 

body.dark-mode {
    background-color: #22272e; 
    color: #adbac7; 
}

body.dark-mode h1,
body.dark-mode p {
    color: #adbac7;
}


body.dark-mode .verso {
    background-color: #373e47;
    border-color: #539bf5;
}

body.dark-mode .frente {
    background-color: #c6cdd5; 
    color: #22272e; 
}

body.dark-mode .alert-success {
    background-color: #2da44e;
    color: #ffffff;
    border-color: #2da44e;
}

body.dark-mode .btn-secondary {
    background-color: #58a6ff;
    color: #22272e;
    border: none;
}
}}
